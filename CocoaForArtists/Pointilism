//
//  CFACanvas.h
//  CodeSamples
//
//	A Cocoa For Artists project
//  Created by Travis Kirton
//

#import "CFACanvas.h"
@interface CFACanvas (private)
CFAImage *myImage;

-(void)point;
@end

@implementation CFACanvas
-(void)setup {
	myImage = [CFAImage imageName:@"3dmaze" andType:@"JPG"];
	[myImage loadPixelData];
	
	[self windowWidth:[myImage width] andHeight:[myImage height]];
	[self drawStyle:ANIMATED];
	[self flipCoordinates];
	[self background:1.0f];

	[CFAShape strokeWidth:1];
	[CFAShape strokeColor:1];
}

-(void)draw {
	[self point];
}

-(void)point {
	int x = [CFAMath randomInt:self.canvasWidth];
	int y = [CFAMath randomInt:self.canvasHeight];
	CFAColor *color = [myImage colorAtX:x andY:y];
	float pointilize = [CFAMath map:mousePos.x fromMin:0 max:self.canvasWidth toMin:2 max:18];
	[CFAShape fillColor:color];
	[CFAShape circleAt:NSMakePoint(x, y) radius:pointilize];
}
@end